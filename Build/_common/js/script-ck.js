/* --------------------------------------------------

	ui
	
-------------------------------------------------- */var UI=function(e){var t={};t.config={winW:e(window).outerWidth(),winH:e(window).outerHeight(),scrolling:!1,$viewport:e(".viewport"),$nvpMenu_toggle:e(".menu")};t.init=function(){t.window();t.viewport();t.ui.nvpMenu();t.ui.position();t.ui.elevator()};t.viewport=function(){var e=t.config.winH};t.window=function(){var n=e(window);n.resize(function(){t.config.winH=n.outerHeight();t.viewport()});n.scroll(function(){setInterval(function(){t.config.scrolling=!0},1e3)})};t.ui={nvpMenu:function(){var e=t.config.$viewport,n=t.config.$nvpMenu_toggle;n.on("click",this,function(t){t.preventDefault();e.toggleClass("shift")})},elevator:function(){var n=e("#menu a, .adv");n.on("click",this,function(n){n.preventDefault();var r=e(this).attr("data-attack");t.scrollPage(e(".hero")[r],0,360)})},position:function(){var n=e(".hero ul li");n.on("click",e("a"),function(n){n.preventDefault();var r=e(this).parents().find(".hero");t.scrollPage(r,0,360)})},loop:function(){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(t.config.scrolling){var r=e(".hero");r.each(function(e){t.inView(this,40)&&t.scrollPage(this,0,360)});t.config.scrolling=!1}n(t.ui.loop)}};t.scrollPage=function(t,n,r){var i=e(t).offset().top-n;e("html, body").animate({scrollTop:i},{duration:r,queue:!1})};t.inView=function(t,n){var r=e(window).scrollTop(),i=r+e(window).height(),s=e(t).offset().top,o=s+e(t).height()/100*n;return o<=i&&s>=r||r-s>=0};return t}(jQuery);$(function(){UI.init();$(".slider").flexslider({selector:".slides .pane",animation:"slide",useCSS:!0,easing:"cubic-bezier(.94,.06,.32,1)",slideshow:!1,animationLoop:!1,animationSpeed:360,before:function(e){UI.scrollPage(e,0,360);$(".viewport").removeClass("shift")}})});